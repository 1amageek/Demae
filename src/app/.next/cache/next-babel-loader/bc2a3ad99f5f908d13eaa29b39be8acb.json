{"ast":null,"code":"var __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) {\n    if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  }\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nimport { Doc, Field, Collection, SubCollection, firestore } from '@1amageek/ballcap';\n\nvar Role =\n/** @class */\n(() => {\n  class Role extends Doc {\n    constructor() {\n      super(...arguments);\n      this.permissions = ['read', 'write', 'owner'];\n    }\n\n  }\n\n  __decorate([Field], Role.prototype, \"permissions\", void 0);\n\n  return Role;\n})();\n\nexport { Role };\n\nvar Provider =\n/** @class */\n(() => {\n  class Provider extends Doc {\n    constructor() {\n      super(...arguments);\n      this.name = '';\n      this.country = 'US';\n      this.defaultCurrency = 'USD';\n      this.email = '';\n      this.phone = '';\n      this.isAvailable = false;\n      this.isRejected = false;\n      this.isSigned = false;\n      this.metadata = {};\n      this.products = new Collection();\n      this.orders = new Collection();\n      this.members = new Collection();\n    }\n\n    static collectionReference() {\n      return firestore.collection('commerce/v1/providers');\n    }\n\n    thumbnailImageURL() {\n      if (this.thumbnailImage) {\n        return \"\".concat(process.env.HOST, \"/assets/\").concat(this.thumbnailImage.path);\n      }\n\n      return undefined;\n    }\n\n    coverImageURL() {\n      if (this.coverImage) {\n        return \"\".concat(process.env.HOST, \"/assets/\").concat(this.coverImage.path);\n      }\n\n      return undefined;\n    }\n\n  }\n\n  __decorate([Field], Provider.prototype, \"thumbnailImage\", void 0);\n\n  __decorate([Field], Provider.prototype, \"coverImage\", void 0);\n\n  __decorate([Field], Provider.prototype, \"name\", void 0);\n\n  __decorate([Field], Provider.prototype, \"caption\", void 0);\n\n  __decorate([Field], Provider.prototype, \"description\", void 0);\n\n  __decorate([Field], Provider.prototype, \"country\", void 0);\n\n  __decorate([Field], Provider.prototype, \"defaultCurrency\", void 0);\n\n  __decorate([Field], Provider.prototype, \"email\", void 0);\n\n  __decorate([Field], Provider.prototype, \"phone\", void 0);\n\n  __decorate([Field], Provider.prototype, \"location\", void 0);\n\n  __decorate([Field], Provider.prototype, \"address\", void 0);\n\n  __decorate([Field], Provider.prototype, \"isAvailable\", void 0);\n\n  __decorate([Field], Provider.prototype, \"isRejected\", void 0);\n\n  __decorate([Field], Provider.prototype, \"isSigned\", void 0);\n\n  __decorate([Field], Provider.prototype, \"url\", void 0);\n\n  __decorate([Field], Provider.prototype, \"sns\", void 0);\n\n  __decorate([Field], Provider.prototype, \"metadata\", void 0);\n\n  __decorate([SubCollection], Provider.prototype, \"products\", void 0);\n\n  __decorate([SubCollection], Provider.prototype, \"orders\", void 0);\n\n  __decorate([SubCollection], Provider.prototype, \"members\", void 0);\n\n  return Provider;\n})();\n\nexport default Provider;","map":{"version":3,"sources":["/Users/1amageek/Desktop/Demae/src/app/models/commerce/Provider.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,SAAS,GAAT,EAAc,KAAd,EAAqB,UAArB,EAAiC,aAAjC,EAAgD,SAAhD,QAAsG,mBAAtG;;AAOA,IAAA,IAAA;AAAA;AAAA,CAAA,MAAA;AAAA,QAAa,IAAb,SAA0B,GAA1B,CAA6B;AAA7B,IAAA,WAAA,GAAA;;AACQ,WAAA,WAAA,GAA4B,CAAC,MAAD,EAAS,OAAT,EAAkB,OAAlB,CAA5B;AACP;;AAF4B;;AACrB,EAAA,UAAA,CAAA,CAAN,KAAM,CAAA,E,cAAA,E,aAAA,E,KAAsD,CAAtD,CAAA;;AACR,SAAA,IAAA;AAAC,CAFD,GAAA;;SAAa,I;;AAMb,IAAA,QAAA;AAAA;AAAA,CAAA,MAAA;AAAA,QAAqB,QAArB,SAAsC,GAAtC,CAAyC;AAAzC,IAAA,WAAA,GAAA;;AAQQ,WAAA,IAAA,GAAe,EAAf;AAGA,WAAA,OAAA,GAAkB,IAAlB;AACA,WAAA,eAAA,GAAgC,KAAhC;AACA,WAAA,KAAA,GAAgB,EAAhB;AACA,WAAA,KAAA,GAAgB,EAAhB;AAGA,WAAA,WAAA,GAAuB,KAAvB;AACA,WAAA,UAAA,GAAsB,KAAtB;AACA,WAAA,QAAA,GAAoB,KAApB;AAGA,WAAA,QAAA,GAAoC,EAApC;AAEQ,WAAA,QAAA,GAAgC,IAAI,UAAJ,EAAhC;AACA,WAAA,MAAA,GAA4B,IAAI,UAAJ,EAA5B;AACA,WAAA,OAAA,GAA4B,IAAI,UAAJ,EAA5B;AAef;;AAvCA,WAAO,mBAAP,GAA0B;AACzB,aAAO,SAAS,CAAC,UAAV,CAAqB,uBAArB,CAAP;AACA;;AAwBD,IAAA,iBAAiB,GAAA;AAChB,UAAI,KAAK,cAAT,EAAyB;AACxB,yBAAU,OAAO,CAAC,GAAR,CAAY,IAAtB,qBAAqC,KAAK,cAAL,CAAoB,IAAzD;AACA;;AACD,aAAO,SAAP;AACA;;AAED,IAAA,aAAa,GAAA;AACZ,UAAI,KAAK,UAAT,EAAqB;AACpB,yBAAU,OAAO,CAAC,GAAR,CAAY,IAAtB,qBAAqC,KAAK,UAAL,CAAgB,IAArD;AACA;;AACD,aAAO,SAAP;AACA;;AAxCuC;;AAMjC,EAAA,UAAA,CAAA,CAAN,KAAM,CAAA,E,kBAAA,E,gBAAA,E,KAAqB,CAArB,CAAA;;AACA,EAAA,UAAA,CAAA,CAAN,KAAM,CAAA,E,kBAAA,E,YAAA,E,KAAiB,CAAjB,CAAA;;AACA,EAAA,UAAA,CAAA,CAAN,KAAM,CAAA,E,kBAAA,E,MAAA,E,KAAiB,CAAjB,CAAA;;AACA,EAAA,UAAA,CAAA,CAAN,KAAM,CAAA,E,kBAAA,E,SAAA,E,KAAgB,CAAhB,CAAA;;AACA,EAAA,UAAA,CAAA,CAAN,KAAM,CAAA,E,kBAAA,E,aAAA,E,KAAoB,CAApB,CAAA;;AACA,EAAA,UAAA,CAAA,CAAN,KAAM,CAAA,E,kBAAA,E,SAAA,E,KAAsB,CAAtB,CAAA;;AACA,EAAA,UAAA,CAAA,CAAN,KAAM,CAAA,E,kBAAA,E,iBAAA,E,KAAqC,CAArC,CAAA;;AACA,EAAA,UAAA,CAAA,CAAN,KAAM,CAAA,E,kBAAA,E,OAAA,E,KAAkB,CAAlB,CAAA;;AACA,EAAA,UAAA,CAAA,CAAN,KAAM,CAAA,E,kBAAA,E,OAAA,E,KAAkB,CAAlB,CAAA;;AACA,EAAA,UAAA,CAAA,CAAN,KAAM,CAAA,E,kBAAA,E,UAAA,E,KAAmB,CAAnB,CAAA;;AACA,EAAA,UAAA,CAAA,CAAN,KAAM,CAAA,E,kBAAA,E,SAAA,E,KAAgB,CAAhB,CAAA;;AACA,EAAA,UAAA,CAAA,CAAN,KAAM,CAAA,E,kBAAA,E,aAAA,E,KAA4B,CAA5B,CAAA;;AACA,EAAA,UAAA,CAAA,CAAN,KAAM,CAAA,E,kBAAA,E,YAAA,E,KAA2B,CAA3B,CAAA;;AACA,EAAA,UAAA,CAAA,CAAN,KAAM,CAAA,E,kBAAA,E,UAAA,E,KAAyB,CAAzB,CAAA;;AACA,EAAA,UAAA,CAAA,CAAN,KAAM,CAAA,E,kBAAA,E,KAAA,E,KAAY,CAAZ,CAAA;;AACA,EAAA,UAAA,CAAA,CAAN,KAAM,CAAA,E,kBAAA,E,KAAA,E,KAAmC,CAAnC,CAAA;;AACA,EAAA,UAAA,CAAA,CAAN,KAAM,CAAA,E,kBAAA,E,UAAA,E,KAAsC,CAAtC,CAAA;;AAEQ,EAAA,UAAA,CAAA,CAAd,aAAc,CAAA,E,kBAAA,E,UAAA,E,KAAgD,CAAhD,CAAA;;AACA,EAAA,UAAA,CAAA,CAAd,aAAc,CAAA,E,kBAAA,E,QAAA,E,KAA4C,CAA5C,CAAA;;AACA,EAAA,UAAA,CAAA,CAAd,aAAc,CAAA,E,kBAAA,E,SAAA,E,KAA4C,CAA5C,CAAA;;AAehB,SAAA,QAAA;AAAC,CAzCD,GAAA;;eAAqB,Q","sourcesContent":["import { Doc, Field, Collection, SubCollection, firestore, CollectionReference, GeoPoint, File } from '@1amageek/ballcap'\r\nimport { CurrencyCode } from 'common/Currency'\r\nimport Product from './Product'\r\nimport Order from './Order'\r\n\r\nexport type Permission = 'read' | 'write' | 'owner'\r\n\r\nexport class Role extends Doc {\r\n\t@Field permissions: Permission[] = ['read', 'write', 'owner']\r\n}\r\n\r\nexport type SNSProvider = 'twitter' | 'facebook' | 'instagram'\r\n\r\nexport default class Provider extends Doc {\r\n\r\n\tstatic collectionReference(): CollectionReference {\r\n\t\treturn firestore.collection('commerce/v1/providers')\r\n\t}\r\n\r\n\t@Field thumbnailImage?: File\r\n\t@Field coverImage?: File\r\n\t@Field name: string = ''\r\n\t@Field caption?: string\r\n\t@Field description?: string\r\n\t@Field country: string = 'US'\r\n\t@Field defaultCurrency: CurrencyCode = 'USD'\r\n\t@Field email: string = ''\r\n\t@Field phone: string = ''\r\n\t@Field location?: GeoPoint\r\n\t@Field address?: string\r\n\t@Field isAvailable: boolean = false\r\n\t@Field isRejected: boolean = false\r\n\t@Field isSigned: boolean = false\r\n\t@Field url?: string\r\n\t@Field sns?: { [key in SNSProvider]: any }\r\n\t@Field metadata?: { [key: string]: any } = {}\r\n\r\n\t@SubCollection products: Collection<Product> = new Collection()\r\n\t@SubCollection orders: Collection<Order> = new Collection()\r\n\t@SubCollection members: Collection<Role> = new Collection()\r\n\r\n\tthumbnailImageURL() {\r\n\t\tif (this.thumbnailImage) {\r\n\t\t\treturn `${process.env.HOST}/assets/${this.thumbnailImage.path}`\r\n\t\t}\r\n\t\treturn undefined\r\n\t}\r\n\r\n\tcoverImageURL() {\r\n\t\tif (this.coverImage) {\r\n\t\t\treturn `${process.env.HOST}/assets/${this.coverImage.path}`\r\n\t\t}\r\n\t\treturn undefined\r\n\t}\r\n}\r\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}