{"ast":null,"code":"var _jsxFileName = \"/Users/1amageek/Desktop/Demae/src/app/components/checkout/payment/index.tsx\";\nvar __jsx = React.createElement;\nimport React, { useState, useContext } from 'react';\nimport { createStyles, makeStyles } from '@material-ui/core/styles';\nimport { Tooltip, IconButton, Box } from '@material-ui/core';\nimport { useHistory } from 'react-router-dom';\nimport { loadStripe } from '@stripe/stripe-js';\nimport { CardElement, Elements, useStripe, useElements } from '@stripe/react-stripe-js';\nimport firebase from 'firebase';\nimport 'firebase/functions';\nimport { Paper, AppBar, Toolbar, Button } from '@material-ui/core';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport Loading from 'components/Loading';\nimport User from 'models/commerce/User';\nimport { useAuthUser } from 'hooks/auth';\nimport { UserContext } from 'hooks/commerce';\nimport { useProcessing } from 'components/Processing';\nconst STRIPE_API_KEY = process.env.STRIPE_API_KEY;\nconst stripePromise = loadStripe(STRIPE_API_KEY);\nconst CARD_OPTIONS = {\n  // iconStyle: 'solid',\n  style: {\n    base: {\n      fontSize: '16px'\n    },\n    invalid: {\n      iconColor: '#FFC7EE',\n      color: '#FFC7EE'\n    }\n  },\n  hidePostalCode: true\n};\nexport default (() => {\n  return __jsx(Elements, {\n    stripe: stripePromise,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }\n  }, __jsx(CheckoutForm, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 4\n    }\n  }));\n});\nconst useStyles = makeStyles(theme => createStyles({\n  box: {\n    padding: theme.spacing(3)\n  },\n  button: {\n    width: '100%',\n    flexGrow: 1,\n    marginTop: theme.spacing(4)\n  }\n}));\n\nconst CheckoutForm = () => {\n  const classes = useStyles();\n  const [auth] = useAuthUser();\n  const {\n    0: user,\n    1: isUserLoading\n  } = useContext(UserContext);\n  const stripe = useStripe();\n  const elements = useElements();\n  const {\n    0: isDisabled,\n    1: setDisable\n  } = useState(true);\n  const history = useHistory();\n  const [setProcessing] = useProcessing();\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n\n    if (!auth) {\n      return;\n    }\n\n    if (!stripe) {\n      return;\n    }\n\n    if (!elements) {\n      return;\n    }\n\n    const card = elements.getElement(CardElement);\n\n    if (!card) {\n      return;\n    }\n\n    setProcessing(true);\n\n    try {\n      const {\n        error,\n        paymentMethod\n      } = await stripe.createPaymentMethod({\n        type: 'card',\n        card: card\n      });\n\n      if (error) {\n        console.log(error);\n        setProcessing(false);\n        return;\n      }\n\n      if (!paymentMethod) {\n        setProcessing(false);\n        return;\n      }\n\n      const updateData = {\n        defaultPaymentMethodID: paymentMethod.id\n      };\n\n      if (user === null || user === void 0 ? void 0 : user.customerID) {\n        const attach = firebase.functions().httpsCallable('v1-stripe-paymentMethod-attach');\n        const response = await attach({\n          paymentMethodID: paymentMethod.id\n        });\n        const {\n          error,\n          result\n        } = response.data;\n\n        if (error) {\n          console.error(error);\n          setProcessing(false);\n          return;\n        }\n\n        console.log('[APP] attach payment method', result);\n      } else {\n        const create = firebase.functions().httpsCallable('v1-stripe-customer-create');\n        const response = await create({\n          payment_method: paymentMethod.id,\n          phone: auth.phoneNumber,\n          invoice_settings: {\n            default_payment_method: paymentMethod.id\n          },\n          metadata: {\n            uid: auth.uid\n          }\n        });\n        const {\n          error,\n          result\n        } = response.data;\n\n        if (error) {\n          console.error(error);\n          setProcessing(false);\n          return;\n        }\n\n        console.log('[APP] create customer', result);\n\n        if (result) {\n          const customerID = result.id;\n          updateData['customerID'] = customerID;\n        }\n      }\n\n      await new User(auth.uid).documentReference.set(updateData, {\n        merge: true\n      });\n      setProcessing(false);\n      history.goBack();\n    } catch (error) {\n      setProcessing(false);\n      console.log(error);\n    }\n  };\n\n  if (isUserLoading) {\n    return __jsx(Loading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 16\n      }\n    });\n  } else {\n    return __jsx(Paper, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 17\n      }\n    }, __jsx(AppBar, {\n      position: \"static\",\n      color: \"transparent\",\n      elevation: 0,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 5\n      }\n    }, __jsx(Toolbar, {\n      disableGutters: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 6\n      }\n    }, __jsx(Tooltip, {\n      title: \"Back\",\n      onClick: () => {\n        history.goBack();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 7\n      }\n    }, __jsx(IconButton, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 8\n      }\n    }, __jsx(ArrowBackIcon, {\n      color: \"inherit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }\n    }))), __jsx(Box, {\n      fontSize: 18,\n      fontWeight: 600,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 7\n      }\n    }, \"Card\"))), __jsx(Box, {\n      p: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 5\n      }\n    }, __jsx(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 6\n      }\n    }, __jsx(CardElement, {\n      options: CARD_OPTIONS,\n      onChange: e => {\n        setDisable(!e.complete);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 7\n      }\n    }), __jsx(Button, {\n      className: classes.button,\n      variant: \"contained\",\n      color: \"primary\",\n      size: \"large\",\n      disabled: isDisabled,\n      onClick: handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 7\n      }\n    }, \"Continue to Payment\"))));\n  }\n};","map":{"version":3,"sources":["/Users/1amageek/Desktop/Demae/src/app/components/checkout/payment/index.tsx"],"names":[],"mappings":"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","sourcesContent":["import React, { useState, useContext } from 'react'\r\nimport { createStyles, Theme, makeStyles } from '@material-ui/core/styles'\r\nimport { Tooltip, IconButton, Box } from '@material-ui/core';\r\nimport { useHistory } from 'react-router-dom'\r\nimport { loadStripe } from '@stripe/stripe-js'\r\nimport {\r\n\tCardElement,\r\n\tElements,\r\n\tuseStripe,\r\n\tuseElements,\r\n} from '@stripe/react-stripe-js'\r\nimport firebase from 'firebase'\r\nimport 'firebase/functions'\r\nimport { Paper, AppBar, Toolbar, Button, Typography } from '@material-ui/core'\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport Loading from 'components/Loading'\r\nimport User from 'models/commerce/User'\r\nimport { useAuthUser } from 'hooks/auth'\r\nimport { UserContext } from 'hooks/commerce'\r\nimport { useProcessing } from 'components/Processing';\r\n\r\nconst STRIPE_API_KEY = process.env.STRIPE_API_KEY!\r\nconst stripePromise = loadStripe(STRIPE_API_KEY)\r\n\r\nconst CARD_OPTIONS = {\r\n\t// iconStyle: 'solid',\r\n\tstyle: {\r\n\t\tbase: {\r\n\t\t\tfontSize: '16px',\r\n\t\t},\r\n\t\tinvalid: {\r\n\t\t\ticonColor: '#FFC7EE',\r\n\t\t\tcolor: '#FFC7EE',\r\n\t\t},\r\n\t},\r\n\thidePostalCode: true\r\n};\r\n\r\nexport default () => {\r\n\treturn (\r\n\t\t<Elements stripe={stripePromise}>\r\n\t\t\t<CheckoutForm />\r\n\t\t</Elements>\r\n\t)\r\n}\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n\tcreateStyles({\r\n\t\tbox: {\r\n\t\t\tpadding: theme.spacing(3),\r\n\t\t},\r\n\t\tbutton: {\r\n\t\t\twidth: '100%',\r\n\t\t\tflexGrow: 1,\r\n\t\t\tmarginTop: theme.spacing(4)\r\n\t\t}\r\n\t}),\r\n);\r\n\r\nconst CheckoutForm = () => {\r\n\tconst classes = useStyles()\r\n\tconst [auth] = useAuthUser()\r\n\tconst [user, isUserLoading] = useContext(UserContext)\r\n\tconst stripe = useStripe();\r\n\tconst elements = useElements()\r\n\tconst [isDisabled, setDisable] = useState(true)\r\n\tconst history = useHistory()\r\n\tconst [setProcessing] = useProcessing()\r\n\r\n\tconst handleSubmit = async (event) => {\r\n\t\tevent.preventDefault()\r\n\t\tif (!auth) { return }\r\n\t\tif (!stripe) { return }\r\n\t\tif (!elements) { return }\r\n\t\tconst card = elements.getElement(CardElement)\r\n\t\tif (!card) { return }\r\n\r\n\t\tsetProcessing(true)\r\n\r\n\t\ttry {\r\n\t\t\tconst { error, paymentMethod } = await stripe.createPaymentMethod({\r\n\t\t\t\ttype: 'card',\r\n\t\t\t\tcard: card\r\n\t\t\t})\r\n\r\n\t\t\tif (error) {\r\n\t\t\t\tconsole.log(error)\r\n\t\t\t\tsetProcessing(false)\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tif (!paymentMethod) {\r\n\t\t\t\tsetProcessing(false)\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tconst updateData = { defaultPaymentMethodID: paymentMethod.id }\r\n\t\t\tif (user?.customerID) {\r\n\t\t\t\tconst attach = firebase.functions().httpsCallable('v1-stripe-paymentMethod-attach')\r\n\t\t\t\tconst response = await attach({\r\n\t\t\t\t\tpaymentMethodID: paymentMethod.id\r\n\t\t\t\t})\r\n\t\t\t\tconst { error, result } = response.data\r\n\t\t\t\tif (error) {\r\n\t\t\t\t\tconsole.error(error)\r\n\t\t\t\t\tsetProcessing(false)\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log('[APP] attach payment method', result)\r\n\t\t\t} else {\r\n\t\t\t\tconst create = firebase.functions().httpsCallable('v1-stripe-customer-create')\r\n\t\t\t\tconst response = await create({\r\n\t\t\t\t\tpayment_method: paymentMethod.id,\r\n\t\t\t\t\tphone: auth.phoneNumber,\r\n\t\t\t\t\tinvoice_settings: {\r\n\t\t\t\t\t\tdefault_payment_method: paymentMethod.id\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmetadata: {\r\n\t\t\t\t\t\tuid: auth.uid\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tconst { error, result } = response.data\r\n\r\n\t\t\t\tif (error) {\r\n\t\t\t\t\tconsole.error(error)\r\n\t\t\t\t\tsetProcessing(false)\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconsole.log('[APP] create customer', result)\r\n\t\t\t\tif (result) {\r\n\t\t\t\t\tconst customerID = result.id\r\n\t\t\t\t\tupdateData['customerID'] = customerID\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tawait new User(auth.uid).documentReference.set(updateData, { merge: true })\r\n\t\t\tsetProcessing(false)\r\n\t\t\thistory.goBack()\r\n\t\t} catch (error) {\r\n\t\t\tsetProcessing(false)\r\n\t\t\tconsole.log(error)\r\n\t\t}\r\n\t};\r\n\r\n\tif (isUserLoading) {\r\n\t\treturn <Loading />\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t<Paper>\r\n\t\t\t\t<AppBar position='static' color='transparent' elevation={0}>\r\n\t\t\t\t\t<Toolbar disableGutters>\r\n\t\t\t\t\t\t<Tooltip title='Back' onClick={() => {\r\n\t\t\t\t\t\t\thistory.goBack()\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t<IconButton>\r\n\t\t\t\t\t\t\t\t<ArrowBackIcon color='inherit' />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t<Box fontSize={18} fontWeight={600}>\r\n\t\t\t\t\t\t\tCard\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Toolbar>\r\n\t\t\t\t</AppBar>\r\n\t\t\t\t<Box p={2}>\r\n\t\t\t\t\t<form>\r\n\t\t\t\t\t\t<CardElement\r\n\t\t\t\t\t\t\toptions={CARD_OPTIONS}\r\n\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\tsetDisable(!e.complete)\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Button className={classes.button}\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\tdisabled={isDisabled}\r\n\t\t\t\t\t\t\tonClick={handleSubmit}>Continue to Payment</Button>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</Box>\r\n\t\t\t</Paper>\r\n\t\t)\r\n\t}\r\n}\r\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}